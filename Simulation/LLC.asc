Version 4
SHEET 1 1068 680
WIRE 272 -16 -144 -16
WIRE 272 16 272 -16
WIRE -144 80 -144 -16
WIRE 176 96 96 96
WIRE 224 96 176 96
WIRE 720 96 640 96
WIRE 928 96 784 96
WIRE 96 112 96 96
WIRE 272 128 272 112
WIRE 592 128 272 128
WIRE 592 144 592 128
WIRE 272 176 272 128
WIRE 272 176 176 176
WIRE 656 176 640 176
WIRE 928 176 656 176
WIRE 272 192 272 176
WIRE 656 192 656 176
WIRE 656 192 640 192
WIRE 176 272 96 272
WIRE 224 272 176 272
WIRE 720 272 640 272
WIRE 784 272 784 96
WIRE 592 320 592 224
WIRE 272 352 272 288
WIRE 272 352 176 352
WIRE 272 416 272 352
WIRE 592 432 592 384
FLAG 272 416 0
FLAG 928 96 out
FLAG -144 160 0
FLAG 96 352 0
FLAG 96 192 0
FLAG 592 432 0
FLAG 928 176 0
SYMBOL nmos 224 16 R0
SYMATTR InstName M1
SYMATTR Value BSB012N03LX3
SYMBOL nmos 224 192 R0
SYMATTR InstName M2
SYMATTR Value BSB012N03LX3
SYMBOL cap 576 320 R0
SYMATTR InstName C1
SYMATTR Value 44nF
SYMBOL ind2 576 240 M180
WINDOW 0 -50 77 Left 2
WINDOW 3 -49 54 Left 2
SYMATTR InstName L1
SYMATTR Value {L1}
SYMBOL ind2 656 192 R180
WINDOW 0 -45 80 Left 2
WINDOW 3 -74 52 Left 2
SYMATTR InstName L2
SYMATTR Value {L2}
SYMBOL ind2 656 288 R180
WINDOW 0 -45 80 Left 2
WINDOW 3 -74 52 Left 2
SYMATTR InstName L3
SYMATTR Value {L3}
SYMBOL diode 720 112 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMBOL diode 720 288 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMBOL voltage -144 64 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 360
SYMBOL voltage 96 256 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value PULSE(0 5 {Tdelay1} 0 0 {Ton1} {Tp1})
SYMBOL voltage 96 96 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value PULSE(0 5 {Tdelay2} 0 0 {Ton1} {Tp2})
SYMBOL res 160 256 R0
SYMATTR InstName R1
SYMATTR Value 1meg
SYMBOL res 160 80 R0
SYMATTR InstName R2
SYMATTR Value 1meg
TEXT 520 -48 Left 2 !.param L1= { 500e-6 }
TEXT 520 -24 Left 2 !.param N12 = { 8 / 35 }
TEXT 520 0 Left 2 !.param L2= { L1 * N12^2 }
TEXT 552 64 Left 2 !K1 L1 L2 L3 1
TEXT 520 24 Left 2 !.param L3= { L2 }
TEXT -178 424 Left 2 !.tran 20ms
TEXT -456 264 Left 2 !.param Tp2 = { Tp1 }
TEXT -456 320 Left 2 !.param Ton1 = { Tp1 / 2 }
TEXT -456 296 Left 2 !.param Tp1 = { 1 / f1 }
TEXT -456 352 Left 2 !.param Ton2 = { Ton1 }
TEXT -464 384 Left 2 !.param Tdelay1 = { Ton2 }
TEXT -472 416 Left 2 !.param Tdelay2 = { 0 }
TEXT -464 232 Left 2 !.param f1 = { 30e3 }
